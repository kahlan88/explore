(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,o){e.exports=o(30)},26:function(e,t,o){},27:function(e,t,o){},30:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),c=o(8),r=o.n(c),l=(o(26),o(14)),i=o(15),u=o(18),s=o(16),m=o(19),d=o(7),g=o(33),p=o(35),f=o(32),b=o(34),O=function(){return localStorage.setItem("allowedLocation",JSON.stringify(!0))},h=function(e){navigator.geolocation?console.log("Geolocation is supported!"):console.log("Geolocation is not supported for this Browser/OS."),function(e){navigator.geolocation.getCurrentPosition(function(t){e&&e(t)},function(e){console.log("Error occurred. Error code: "+e.code)},{enableHighAccuracy:!0,timeout:1e4})}(e)},E=function(e){return function(e){var t=navigator.geolocation.watchPosition(function(o){e&&e(o,t)})}(e)},v=(o(27),function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),o=t[0],c=t[1],r=Object(a.useState)(0),l=Object(d.a)(r,2),i=l[0],u=l[1],s=Object(a.useState)(o),m=Object(d.a)(s,2),v=m[0],S=m[1],j=Object(a.useState)(i),w=Object(d.a)(j,2),y=w[0],k=w[1],N=Object(a.useState)(18),I=Object(d.a)(N,2),J=I[0],C=(I[1],JSON.parse(localStorage.getItem("allowedLocation"))),L=Object(a.useState)(!!C),A=Object(d.a)(L,2),W=A[0],B=A[1],x=[v,y],z=Object(a.useState)(0),F=Object(d.a)(z,2),G=F[0],H=F[1],M=Object(a.useState)(),P=Object(d.a)(M,2),T=P[0],U=P[1];Object(a.useEffect)(function(){B(C)});var Y=function(e){c(e.coords.latitude),u(e.coords.longitude)},$=function(e,t){S(e.coords.latitude),k(e.coords.longitude),H(t),function(e){var t=localStorage.getItem("walkLocations")?JSON.parse(localStorage.getItem("walkLocations")):[],o=e.coords,a=o.accuracy,n=o.altitude,c=o.altitudeAccuracy,r=o.heading,l=o.latitude,i=o.longitude,u=o.speed,s=e.timestamp;t.push({timestamp:s,location:{accuracy:a,altitude:n,altitudeAccuracy:c,heading:r,latitude:l,longitude:i,speed:u}}),localStorage.setItem("walkLocations",JSON.stringify(t))}(e);var o=JSON.parse(localStorage.getItem("walkLocations"));U(o.length)};return W?n.a.createElement("div",{className:"Map"},n.a.createElement("div",{className:""},n.a.createElement("div",{className:"top top--left"},o||i?n.a.createElement(n.a.Fragment,null,"Home location:",n.a.createElement("div",null,o),n.a.createElement("div",null,i),n.a.createElement("button",{onClick:function(){!function(e){navigator.geolocation.clearWatch(e)}(G)}},"Stop!")):n.a.createElement("button",{onClick:function(){h(Y),E($)}},"Start!"),"We've got ",T," locations!"),n.a.createElement("div",{className:"top top--right"},"Current location:",n.a.createElement("div",null,v),n.a.createElement("div",null,y))),n.a.createElement(g.a,{center:x,zoom:J},n.a.createElement(p.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),n.a.createElement(f.a,{position:x},n.a.createElement(b.a,null,"You're here!")))):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Uh-oh!"),n.a.createElement("p",null,"This app relies on location"),n.a.createElement("button",{onClick:function(){B(!0),O()}},"Allow location to continue"))}),S=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(v,{className:"App"})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.2020dd97.chunk.js.map