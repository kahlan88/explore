(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,o){e.exports=o(30)},26:function(e,t,o){},27:function(e,t,o){},30:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),c=o(8),l=o.n(c),i=(o(26),o(14)),r=o(15),u=o(18),s=o(16),m=o(19),d=o(7),g=o(33),p=o(35),f=o(32),b=o(34),h=function(){return localStorage.setItem("allowedLocation",JSON.stringify(!0))},O=function(e){navigator.geolocation?console.log("Geolocation is supported!"):console.log("Geolocation is not supported for this Browser/OS."),function(e){navigator.geolocation.getCurrentPosition(function(t){e&&e(t)},function(e){console.log("Error occurred. Error code: "+e.code)},{enableHighAccuracy:!0,timeout:1e4})}(e)},E=function(e){!function(e){var t=navigator.geolocation.watchPosition(function(o){e&&e(o,t)})}(e)},v=(o(27),function(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),o=t[0],c=t[1],l=Object(a.useState)(0),i=Object(d.a)(l,2),r=i[0],u=i[1],s=Object(a.useState)(o),m=Object(d.a)(s,2),v=m[0],j=m[1],w=Object(a.useState)(r),S=Object(d.a)(w,2),y=S[0],k=S[1],N=Object(a.useState)(18),C=Object(d.a)(N,2),I=C[0],J=(C[1],JSON.parse(localStorage.getItem("allowedLocation"))),A=Object(a.useState)(!!J),L=Object(d.a)(A,2),B=L[0],H=L[1],W=[v,y],x=Object(a.useState)(0),z=Object(d.a)(x,2),F=z[0],G=z[1];Object(a.useEffect)(function(){H(J)});var M=function(e){c(e.coords.latitude),u(e.coords.longitude)},P=function(e,t){j(e.coords.latitude),k(e.coords.longitude),G(t),console.log(t,e),function(e){var t=localStorage.getItem("walkLocations")?JSON.parse(localStorage.getItem("walkLocations")):[],o=e.coords,a=o.accuracy,n=o.altitude,c=o.altitudeAccuracy,l=o.heading,i=o.latitude,r=o.longitude,u=o.speed,s=e.timestamp;t.push({timestamp:s,location:{accuracy:a,altitude:n,altitudeAccuracy:c,heading:l,latitude:i,longitude:r,speed:u}}),localStorage.setItem("walkLocations",JSON.stringify(t))}(e)};return B?n.a.createElement("div",{className:"Map"},n.a.createElement("div",{className:""},n.a.createElement("div",{className:"top top--left"},o||r?n.a.createElement(n.a.Fragment,null,"Home location:",n.a.createElement("div",null,o),n.a.createElement("div",null,r),n.a.createElement("button",{onClick:function(){!function(e){console.log(e),navigator.geolocation.clearWatch(e)}(F)}},"Stop!")):n.a.createElement("button",{onClick:function(){O(M),E(P)}},"Start!")),n.a.createElement("div",{className:"top top--right"},"Current location:",n.a.createElement("div",null,v),n.a.createElement("div",null,y))),n.a.createElement(g.a,{center:W,zoom:I},n.a.createElement(p.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),n.a.createElement(f.a,{position:W},n.a.createElement(b.a,null,"Home")))):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Uh-oh!"),n.a.createElement("p",null,"This app relies on location"),n.a.createElement("button",{onClick:function(){H(!0),h()}},"Allow location to continue"))}),j=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement(v,{className:"App"})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.93d25f19.chunk.js.map